{% load custom_tags %}
{% if user.is_authenticated %}
    {% is_in_cart product.id as cart %}
    {% if cart %}
    <div class="flex items-center space-x-1">
        <a href="{% url 'remove_from_cart' product.id %}" class="inline-block bg-yellow-400 hover:bg-yellow-500 text-black font-semibold px-3 py-1 rounded-l transition">-</a>
        <input type="number" value="{{cart.quantity}}" class="w-12 text-center border border-gray-300 dark:bg-gray-800 dark:text-gray-100" disabled>
        <a href="{% url 'add_to_cart' product.id %}" onclick="saveScrollPosition()" class="inline-block bg-yellow-400 hover:bg-yellow-500 text-black font-semibold px-3 py-1 rounded-r transition">+</a>
    </div>
    {% else %}
        <a href="{% url 'add_to_cart' product.id %}" onclick="saveScrollPosition()" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded transition">Add to Cart</a>
    {% endif %}
{% else %}
<a href="{% url 'account_signup' %}" class="inline-block bg-yellow-400 hover:bg-yellow-500 text-black font-semibold px-4 py-2 rounded transition">Add to Cart</a>
{% endif %}